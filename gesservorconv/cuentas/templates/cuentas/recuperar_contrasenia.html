{% extends "base_gesservorconv.html" %}

{% block titulo %}Recuperar contraseña{% endblock %}

{% block contenido %}

{% if validlink %}
<h2 class="text-center">Recuperación de Contraseña</h2>
<form method="post">
    {% csrf_token %}
    <table class="container mx-auto d-flex flex-column align-items-center">
        {% load i18n %}
        {% language 'es-ar' %}
        <tr class="row">
            <td class="col my-1">
                <div class="form-floating">
                    <input type="password"
                        class="form-control my-auto{% if form.new_password1.errors %} is-invalid{% endif %}"
                        id="{{ form.new_password1.id_for_label }}"
                        name="{{ form.new_password1.html_name }}"
                        aria-describedby="errores-new-password1"
                    >
                    <label for="{{ form.new_password1.id_for_label }}">
                        Nueva contraseña
                    </label>
                    <div id="errores-new-password1" class="invalid-feedback m-0 p-0">
                        {% for error in form.new_password1.errors %}
                        <p class="m-0 p-0">{{ error }}</p>
                        {% endfor %}
                    </div>
                </div>
            </td>
        </tr>
        <tr class="row">
            <td class="col my-1">
                <div class="form-floating">
                    <input type="password"
                        class="form-control my-auto{% if form.new_password2.errors %} is-invalid{% endif %}"
                        id="{{ form.new_password2.id_for_label }}"
                        name="{{ form.new_password2.html_name }}"
                        aria-describedby="errores-new-password2"
                    >
                    <label for="{{ form.new_password2.id_for_label }}">
                        Confirmar contraseña
                    </label>
                    <div id="errores-new-password2" class="invalid-feedback m-0 p-0">
                        {% for error in form.new_password2.errors %}
                        <p class="m-0 p-0">{{ error }}</p>
                        {% endfor %}
                    </div>
                </div>
            </td>
        </tr>
        {% endlanguage %}
    </table>
    <div class="my-2 container">
        <div class="row justify-content-center">
            <input type="submit"
                class="btn btn-primary btn-lg col-auto text-wrap"
                value="Recuperar mi contraseña"
            >
        </div>
    </div>
</form>
{% else %}
<h2 class="text-center">Ha fallado la recuperación de contraseña</h2>
<p class="text-center">
    El enlace de recuperación de contraseña fue inválido,
    posiblemente porque ya ha sido usado. Por favor,
    solicite una nueva recuperación de contraseña.
</p>
{% endif %}
<div class="container mt-3">
    <div class="row justify-content-center gap-2 px-3">
        <a href="{% url 'cuentas:iniciar_sesion' %}"
            class="col-auto px-0" tabindex="-1"
        >
            <input type="button"
                class="btn btn-link text-wrap"
                value="Volver a Iniciar Sesión"
            >
        </a>
    </div>
</div>
<pre></pre>
{% endblock %}