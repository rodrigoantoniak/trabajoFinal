<!DOCTYPE html>
<html lang="es-AR" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}
    <link href="{% url 'favicon:ico' %}" rel="shortcut icon" type="image/x-icon">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    >
    <link href="{% static 'css/tangerine.css' %}" rel="stylesheet">
    <link href="{% static 'css/basic.css' %}" rel="stylesheet">
    <link href="{% static 'css/openSans.css' %}" rel="stylesheet">
    {% comment %}Archivo personalizado de estilo{% endcomment %}
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    {% block estilos %}{% endblock %}
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    ></script>
    <script src="{% static 'fontawesomefree/js/all.min.js' %}"></script>
    <script src="{% static 'js/htmx.min.js' %}"></script>
    {% comment %}Extensión de HTMX para WebSockets{% endcomment %}
    <script src="{% static 'js/ws.js' %}"></script>
    {% block scripts %}{% endblock %}
    <title>{% block titulo %}GesServOrConv{% endblock %}</title>
</head>

<body class="m-0 bg-light" {% block extension_htmx %}{% endblock %}>
    <header class="bg-primary sticky-top d-flex align-items-center">
        <button class="btn btn-primary navbar-toggler text-white focus-ring focus-ring-light rounded-1 p-1 ms-2"
            type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar" aria-label="Toggle navigation"
        >
            <i class="fa-solid fa-bars"></i>
        </button>
        <h1 class="text-center my-0 mx-auto">
            <a class="text-white text-decoration-none" href="{% url 'indice' %}">
                <b>GesServOrConv</b>
            </a>
        </h1>
        {% block cabecera %}
        <div class="invisible position-sticky end-0 translate-middle-x">
            <button type="button" class="btn focus-ring border-0 px-1 py-0">
                <i class="fas fa-bell"></i>
            </button>
        </div>
        {% endblock %}
    </header>
    <nav class="navbar navbar-inverse fixed-top p-0">
        <div class="container-fluid p-0">
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="true"
                tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel"
            >
                <div class="offcanvas-header position-relative">
                    <p class="offcanvas-title fs-5" id="offcanvasNavbarLabel">GesServOrConv</p>
                    <button type="button" class="btn position-absolute top-50 end-0 translate-middle" data-bs-dismiss="offcanvas"
                        aria-label="Close"
                    >
                        <i class="fa-solid fa-xmark fa-xl"></i>
                    </button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-start flex-grow-1 pe-3 h-100">
                        {% block navegacion %}
                        <li class="nav-item">
                            {% url 'indice' as indice %}
                            {% if request.path == indice %}
                            <a class="nav-link active" href="#">
                            {% else %}
                            <a class="nav-link" href="{% url 'indice' %}">
                            {% endif %}
                                Inicio
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'cuentas:crear_cuenta' as crear_cuenta %}
                            {% if request.path == crear_cuenta %}
                            <a class="nav-link active" href="#">
                            {% else %}
                            <a class="nav-link" href="{% url 'cuentas:crear_cuenta' %}">
                            {% endif %}
                                Crear Cuenta
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'cuentas:iniciar_sesion' as iniciar_sesion %}
                            {% if request.path == iniciar_sesion %}
                            <a class="nav-link active" href="#">
                            {% else %}
                            <a class="nav-link" href="{% url 'cuentas:iniciar_sesion' %}">
                            {% endif %}
                                Iniciar Sesión
                            </a>
                        </li>
                        {% endblock %}
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <main class="m-1">
        {% for mensaje in messages %}
        {% with mensaje.level_tag as nivel %}
        <div class="alert{% if 'error' not in nivel and 'debug' not in nivel %}
            alert-{{ nivel }}{% elif 'error' in nivel %}
            alert-danger{% elif 'debug' in nivel %}
            alert-secondary{% endif %} alert-dismissible
            fade show p-2 rounded clearfix text-center mt-4
            mx-auto"
        >
        {% endwith %}
            <button type="button"
                class="close float-end align-baseline navbar-toggler my-0 ms-1 me-0 p-0"
                data-bs-dismiss="alert"
                aria-label="Close"
            >
                <i class="fa-solid fa-xmark fa-sm"></i>
            </button>
            {{ mensaje.message }}
        </div>
        {% endfor %}
        {% block contenido %}{% endblock %}
    </main>
</body>

</html>